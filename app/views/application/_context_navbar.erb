<%# The top navbar. Navbar title usually links to the index. %>
<%# Tabs can be rendered in a dropdown. %>

<%= tag.div class: "navbar-nav w-100" do %>

  <%= render "application/navbar_title",
             title: @navbar[:title] if @navbar&.key?(:title) %>

  <%= render "application/navbar_filter" if @navbar&.key?(:filter) %>
  <%= render "application/navbar_sort" if @sorts %>

  <% if @navbar&.key?(:links) && @navbar[:links].kind_of?(Array)
        @navbar[:links].reject(&:nil?).each do |link| %>
      <%= render "application/navbar_link", link: link %>
    <% end %>
  <% end %>

  <%= tag.div class: "ml-auto d-flex flex-column flex-md-row justify-content-between" do %>

    <% if @navbar&.key?(:dropdowns) && @navbar[:dropdowns].kind_of?(Array)
          @navbar[:dropdowns].reject(&:nil?).each do |dropdown| %>
        <%= render "application/navbar_dropdown", dropdown: dropdown %>
      <% end %>
    <% end %>

    <%= render "application/navbar_search" if @navbar&.key?(:search) %>

  <% end %>

<% end %>
